# Maven package Java project Web App to Linux on Azure
# Build your Java project and deploy it to Azure as a Linux web app
# Add steps that analyze code, save build artifacts, deploy, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/java

trigger:
- none
# - master

variables:

  ### Variables ###
  accountName: 'stage'
  applicationName: 'erebus'
  azureSubscription: 'stage(39fa8f87-83f2-4d92-a424-408ebdfbeb19)'
  prefix: '$(accountName)-$(applicationName)'
  webAppName: '$(prefix)-app'
  resourceGroup: '$(prefix)-rg'
  servicePlan: '$(prefix)-sp'
  vmImageName: 'ubuntu-latest'
  region: 'eastus'
  sku: 'B1'

pool:
  vmImage: 'ubuntu-latest'

stages:

  ### Initialize Azure Stage ###
  - stage: Init-Env
    jobs:
      - job: Init-Env
        steps:

        ### Create Resource Group  ###


        ### Create Service Plan  ###

  ### Create App ###
  - stage: Pre-Create-App
    jobs:
      - job: Pre-Create-App
        steps:

        ### Pre-Create App ###

  ### Deploy War ###
  - stage: Download-Artifact
    jobs:
      - job: Download-Artifact
        steps:

        ### Download War ###